{% extends "layout.html" %}

{% block head %}
{% endblock head %}

{% block body %}

<div class='well'>
    <div class='row'>
        <div class='col-md-10'>
            <h3>Search results</h3>
            <h4>Using filter: {{filter}}</h4>
            <h5>Total Count: {{count}}, Showing Results: {{results if results else 'No results found'}}</h5>
        </div>
    </div>
</div>

{% if mainform.errors %}
<div class='formerrors well alert-danger'>
    <h3>Form Validation Errors: Please try again!</h3>
    <ul class="errors">
        {% for field_name, field_errors in mainform.errors|dictsort if field_errors %}
            {% for error in field_errors %}
                <li>{{ mainform[field_name].label }}: {{ error }}</li>
            {% endfor %}
        {% endfor %}
    </ul>
</div>
{% endif %}

{% if results %}
<div class='well'>
    <div class='table-responsive' id='testtable'>
        <table id='table' data-toggle="table" data-url="{{url_for('index_page.getdata')}}" data-pagination="true"
           data-page-size="10" data-page-list="[5, 10, 20]" data-side-pagination="server">
           <thead>
            <tr><th data-field='plateifu'>Plate-IFU</th></tr>
           </thead>
        </table>
    </div>
</div>
{% endif %}

{% endblock body %}
