<!DOCTYPE html>
{% set active_page = active_page|default("index") %}

{#
Current Marvin Dependencies

Jquery v1.11.2
Jquery-actual v1.0.16
moment v2.10.2
validator v0.8.1
D3 v3.5.3
Bootstrap v3.3.2
Bootstrap-Table v1.6.0
Bootstrap-Table-flatJSON v1.0.0
Bootstrap-Select v1.6.3
Bootstrap-Datetimepicker v4.7.14
Bootstrap-Tags v1.1.5
Bootstrap-Typeahead v1.1.5
QUnit v1.19.0
#}

<html lang="en">

<head>
	{# include css files #}
	<meta charset="UTF-8">
	<title>{{title}}</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="{{url_for('static',filename='css/bootstrap/bootstrap.min.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/bootstrap/bootstrap-select.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/bootstrap/bootstrap-table.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/bootstrap/bootstrap-datetimepicker.min.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/bootstrap/bootstrap-tags.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/qunit-1.19.0.css')}}" rel="stylesheet">
	<link href="{{url_for('static',filename='css/aladin.min.css')}}" rel="stylesheet">
	<link rel="shortcut icon" href="{{url_for('static',filename='images/marvin_favicon.ico')}}" type="image/x-icon" />
	{% block head %}{% endblock head %}
	
	{# include js files #}
	<script type="text/javascript" src="{{url_for('static',filename='js/jquery/jquery-1.11.2.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/jquery/jquery.actual.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap-select.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap-table-all.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap-table-flat-json.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/jquery/moment.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap-datetimepicker.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap-tags.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bloodhound.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/bootstrap/bootstrap3-typeahead.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/jquery/validator.min.js')}}"></script>
	<script src="//cdn.ravenjs.com/1.1.20/jquery,native/raven.min.js"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/d3/d3.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/qunit/qunit-1.19.0.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/qunit/qunit-assert-html.min.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/qunit/qunit-assert-classes.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/qunit/qunit-once.js')}}"></script>
	<script type="text/javascript">var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};</script>

	{# setup Raven javascript exception handling #}
	<script type='text/javascript'>
		Raven.config('https://989c330efbc346c7916e97b4edbf6b80@app.getsentry.com/52254', {
		// pass along the version of your application
		release: 'e9d2d3f8694e11e5ac8f0025902e143c',

    	// we highly recommend restricting exceptions to a domain in order to filter out clutter
    	whitelistUrls: ['/sas\.sdss\.org/marvin/'],
    	includePaths: ['/https?:\/\/(sas\.)?sdss\.org/marvin']
		}).install();
	</script>

	{# setup Bloodhound for typeahead #}
	<script type='text/javascript'>
		var numbers = new Bloodhound({
			datumTokenizer: Bloodhound.tokenizers.whitespace,
			queryTokenizer: Bloodhound.tokenizers.whitespace,
			local:['Test']
		});
		numbers.initialize();
	</script>

	{# initialize various global things #}
	<script type='text/javascript'>
		var utils, tm ={};
		var marvin = marvin || {};
		$(function() {
			utils = new marvin.Utils();
			tm = new marvin.TableMethods();
			$('#verspopover').popover({html:true,content:$('#versiontable').html()});
			$('#surveyprogress').popover({html:true});
		});
	</script>
	<script type="text/javascript" src="{{url_for('static',filename='js/tableMethods.js')}}"></script>
	<script type="text/javascript" src="{{url_for('static',filename='js/utils.js')}}"></script>	
	<script type="text/javascript" src="{{url_for('static',filename='js/aladin.min.js')}}"></script>	
	{% block code %}{% endblock code %}	
</head>

<body>

{% include 'header.html' %}

<div class="container-fluid" id="content">
	{% block body %}{% endblock body %}
</div>

{% include 'footer.html' %}

</body>
</html>